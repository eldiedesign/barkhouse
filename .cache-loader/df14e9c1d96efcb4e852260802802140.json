{"remainingRequest":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/buble-loader/index.js??ref--2-1!/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/eslint-loader/index.js!/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/import-glob/index.js!/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/resources/assets/scripts/routes/product-order.js","dependencies":[{"path":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/resources/assets/scripts/routes/product-order.js","mtime":1661429720826},{"path":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/cache-loader/dist/cjs.js","mtime":1638363699586},{"path":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/buble-loader/index.js","mtime":1638363698857},{"path":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/eslint-loader/index.js","mtime":1638363701704},{"path":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/node_modules/import-glob/index.js","mtime":1638363704032}],"contextDependencies":[],"result":["export default {\n  init: function init() {\n\n  },\n  finalize: function finalize() {\n    var slug = document.querySelector('#pageslug'),\n        paramsToPass = {};\n\n    var shingleHeights = document.querySelectorAll('.gfield.shingle-height input[type=radio]'),\n          shingleArea = document.querySelector('.gfield.surface_area input[type=number]');\n    //slug = slug ? slug.value : false;\n    function roundArea(sqft, inc) {\n      return Math.ceil(sqft / inc) * inc;\n    }\n\n    function numRound() {\n      console.log(paramsToPass);\n      \n      if(paramsToPass.height != null) {\n        var inc = 1;\n        if(paramsToPass.height == '13') {\n          inc = 4;\n        }\n        if(paramsToPass.height == '18') {\n          inc = 6;\n        }\n        if(paramsToPass.height == '26') {\n          inc = 8;\n        }\n        shingleArea.value = roundArea(shingleArea.value, inc);\n      }\n      paramsToPass['surface_area'] = shingleArea.value;\n      console.log(shingleArea.value);\n    }\n\n    if(slug.value == 'order-poplar-bark-shingle-siding') {\n\n      if(shingleHeights && shingleArea) {\n        shingleHeights.forEach(function(rad) {\n          console.log(rad);\n          if(rad.checked) {\n            paramsToPass['height'] = rad.value;\n          }\n          rad.addEventListener('click', function() {\n            paramsToPass['height'] = rad.value;\n            console.log(rad.value);\n          });\n        })\n        if(shingleArea.value != 0) {\n          numRound();\n        }\n        shingleArea.addEventListener('change', numRound);\n      }\n    }\n   /*  if(slug.value == 'order-poplar-bark-subway-panels') {\n      \n    } */\n\n\n\n\n\n    // since the easiest (?) way to remove one panel from the list of panels which make up the one 'panels' param was to remove the whole param and update the current url, when we arrive and there's no 'panels' param, we check for panels in sessionStorage and, if panels found, rebuild the param and refresh the page with that param\n    var panelsParam = '',\n    hasPanelInSession = false,\n    formUrl = window.location.href;\nif(formUrl.includes('poplar-bark-panel') && !formUrl.includes('panels=')) {\n  for (var i = 0; i < sessionStorage.length; i++) {\n    var key = sessionStorage.key(i),\n        value = sessionStorage.getItem(sessionStorage.key(i));\n    if(key.includes('bh_panel')) {\n      console.log(key);\n      hasPanelInSession = true;\n      panelsParam += key.replace('bh_panel ', '')+value+',';\n    }\n  }\n  if(hasPanelInSession) {\n    panelsParam = panelsParam.slice(-1) == ',' ? panelsParam.slice(0, -1) : panelsParam;\n    if(formUrl.includes('?')) {\n      window.location.href = formUrl+encodeURI('&panels='+panelsParam);\n    } else {\n      window.location.href = formUrl+encodeURI('?panels='+panelsParam);\n    }\n  }\n}\nif(formUrl.includes('live-edge-slabs') && !formUrl.includes('slabs=')) {\n  for (var slabIndex = 0; slabIndex < sessionStorage.length; slabIndex++) {\n    var slabKey = sessionStorage.key(slabIndex),\n        slabValue = sessionStorage.getItem(sessionStorage.key(slabIndex));\n    if(slabKey.includes('bh_slab')) {\n      console.log(slabKey);\n      hasPanelInSession = true;\n      panelsParam += slabKey.replace('bh_slab ', '')+slabValue+',';\n    }\n  }\n  if(hasPanelInSession) {\n    panelsParam = panelsParam.slice(-1) == ',' ? panelsParam.slice(0, -1) : panelsParam;\n    if(formUrl.includes('?')) {\n      window.location.href = formUrl+encodeURI('&slabs='+panelsParam);\n    } else {\n      window.location.href = formUrl+encodeURI('?slabs='+panelsParam);\n    }\n  }\n}\n\n// if a panel is removed form the form, also remove it from sessionStorage\nvar deleteItems = document.querySelectorAll('button.delete_list_item');\nif(deleteItems) {\n  deleteItems.forEach(function(btn) {\n    btn.addEventListener('click', function(e) {\n      e.preventDefault();\n      for (var i = 0; i < sessionStorage.length; i++) {\n        var key = sessionStorage.key(i);\n        if(key.includes('bh_panel')) {\n          console.log(key);\n          if(btn.closest('.gfield_list_group').querySelector('input').value.includes(key.replace('bh_panel ', ''))) {\n            sessionStorage.removeItem(key);\n          }\n        }\n        \n        if(key.includes('bh_slab')) {\n          if(btn.closest('.gfield_list_group').querySelector('input').value.includes(key.replace('bh_slab ', ''))) {\n            sessionStorage.removeItem(key);\n          }\n        }\n      }\n      console.log(sessionStorage);\n      var url = new URL(window.location.href)\n      var params = new URLSearchParams(url.search.slice(1))\n      params.delete('panels');\n      params.delete('slabs');\n      window.history.replaceState(\n        {},\n        '',\n        ((window.location.pathname) + \"?\" + params + (window.location.hash))\n      )\n    });\n  })\n }\n\n  },\n};",{"version":3,"file":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop/resources/assets/scripts/routes/product-order.js","sources":["resources/assets/scripts/routes/product-order.js"],"sourcesContent":["export default {\n  init() {\n\n  },\n  finalize() {\n    var slug = document.querySelector('#pageslug'),\n        paramsToPass = {};\n\n    const shingleHeights = document.querySelectorAll('.gfield.shingle-height input[type=radio]'),\n          shingleArea = document.querySelector('.gfield.surface_area input[type=number]');\n    //slug = slug ? slug.value : false;\n    function roundArea(sqft, inc) {\n      return Math.ceil(sqft / inc) * inc;\n    }\n\n    function numRound() {\n      console.log(paramsToPass);\n      \n      if(paramsToPass.height != null) {\n        var inc = 1;\n        if(paramsToPass.height == '13') {\n          inc = 4;\n        }\n        if(paramsToPass.height == '18') {\n          inc = 6;\n        }\n        if(paramsToPass.height == '26') {\n          inc = 8;\n        }\n        shingleArea.value = roundArea(shingleArea.value, inc);\n      }\n      paramsToPass['surface_area'] = shingleArea.value;\n      console.log(shingleArea.value);\n    }\n\n    if(slug.value == 'order-poplar-bark-shingle-siding') {\n\n      if(shingleHeights && shingleArea) {\n        shingleHeights.forEach(function(rad) {\n          console.log(rad);\n          if(rad.checked) {\n            paramsToPass['height'] = rad.value;\n          }\n          rad.addEventListener('click', function() {\n            paramsToPass['height'] = rad.value;\n            console.log(rad.value);\n          });\n        })\n        if(shingleArea.value != 0) {\n          numRound();\n        }\n        shingleArea.addEventListener('change', numRound);\n      }\n    }\n   /*  if(slug.value == 'order-poplar-bark-subway-panels') {\n      \n    } */\n\n\n\n\n\n    // since the easiest (?) way to remove one panel from the list of panels which make up the one 'panels' param was to remove the whole param and update the current url, when we arrive and there's no 'panels' param, we check for panels in sessionStorage and, if panels found, rebuild the param and refresh the page with that param\n    var panelsParam = '',\n    hasPanelInSession = false,\n    formUrl = window.location.href;\nif(formUrl.includes('poplar-bark-panel') && !formUrl.includes('panels=')) {\n  for (var i = 0; i < sessionStorage.length; i++) {\n    var key = sessionStorage.key(i),\n        value = sessionStorage.getItem(sessionStorage.key(i));\n    if(key.includes('bh_panel')) {\n      console.log(key);\n      hasPanelInSession = true;\n      panelsParam += key.replace('bh_panel ', '')+value+',';\n    }\n  }\n  if(hasPanelInSession) {\n    panelsParam = panelsParam.slice(-1) == ',' ? panelsParam.slice(0, -1) : panelsParam;\n    if(formUrl.includes('?')) {\n      window.location.href = formUrl+encodeURI('&panels='+panelsParam);\n    } else {\n      window.location.href = formUrl+encodeURI('?panels='+panelsParam);\n    }\n  }\n}\nif(formUrl.includes('live-edge-slabs') && !formUrl.includes('slabs=')) {\n  for (var slabIndex = 0; slabIndex < sessionStorage.length; slabIndex++) {\n    var slabKey = sessionStorage.key(slabIndex),\n        slabValue = sessionStorage.getItem(sessionStorage.key(slabIndex));\n    if(slabKey.includes('bh_slab')) {\n      console.log(slabKey);\n      hasPanelInSession = true;\n      panelsParam += slabKey.replace('bh_slab ', '')+slabValue+',';\n    }\n  }\n  if(hasPanelInSession) {\n    panelsParam = panelsParam.slice(-1) == ',' ? panelsParam.slice(0, -1) : panelsParam;\n    if(formUrl.includes('?')) {\n      window.location.href = formUrl+encodeURI('&slabs='+panelsParam);\n    } else {\n      window.location.href = formUrl+encodeURI('?slabs='+panelsParam);\n    }\n  }\n}\n\n// if a panel is removed form the form, also remove it from sessionStorage\nconst deleteItems = document.querySelectorAll('button.delete_list_item');\nif(deleteItems) {\n  deleteItems.forEach(function(btn) {\n    btn.addEventListener('click', function(e) {\n      e.preventDefault();\n      for (var i = 0; i < sessionStorage.length; i++) {\n        var key = sessionStorage.key(i);\n        if(key.includes('bh_panel')) {\n          console.log(key);\n          if(btn.closest('.gfield_list_group').querySelector('input').value.includes(key.replace('bh_panel ', ''))) {\n            sessionStorage.removeItem(key);\n          }\n        }\n        \n        if(key.includes('bh_slab')) {\n          if(btn.closest('.gfield_list_group').querySelector('input').value.includes(key.replace('bh_slab ', ''))) {\n            sessionStorage.removeItem(key);\n          }\n        }\n      }\n      console.log(sessionStorage);\n      const url = new URL(window.location.href)\n      const params = new URLSearchParams(url.search.slice(1))\n      params.delete('panels');\n      params.delete('slabs');\n      window.history.replaceState(\n        {},\n        '',\n        `${window.location.pathname}?${params}${window.location.hash}`\n      )\n    });\n  })\n }\n\n  },\n};"],"names":["const"],"mappings":"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","sourceRoot":"/Users/this/Local Sites/barkhousecontent/app/public/wp-content/themes/barkhouse-shop"}]}